name: 'Basic'

on:
  push:
    branches:
    - main

env:
  GLOBAL_VALUE: "this is a env variable from the global level"

jobs:
  build-test:
    name: 'First Job'

    runs-on: ubuntu-latest

    steps:
    - name: Say hello world 1
      shell: bash
      env:
        STEP_VALUE_1: "this is a env variable from the STEP level #1"
      run: |
        generatedValue1 =$(echo $RANDOM)

        echo "GEN_VALUE_1=$generatedValue1" >> $GITHUB_ENV
    - name: Say hello world 2
      shell : pwsh
      env:
        STEP_VALUE_2: "this is a env variable from the STEP level #2"
      run: |
        $generatedValue2 = $(Get-Random -Max 99999)

        echo "GEN_VALUE_2=$generatedValue2" | Out-File -FilePath $env:GITHUB_ENV -Encoding utf-8 -Append

    - name: Get Hello world values
      shell: bash
      run: |
        echo "GEN_VALUE 1: $GEN_VALUE_1"
        echo "GEN_VALUE 2: ${{ env.GEN_VALUE_2 }}"